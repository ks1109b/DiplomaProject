# Дипломный проект профессии «Тестировщик»

Дипломный проект представляет собой автоматизацию тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.

## Описание приложения

Приложение представляет из себя веб-сервис.

<img width="705" alt="service" src="https://user-images.githubusercontent.com/73786860/115916258-3ca14000-a47d-11eb-8a7e-2327e0389c95.png">

Приложение предлагает купить тур по определённой цене с помощью двух способов:
1. Обычная оплата по дебетовой карте
1. Уникальная технология: выдача кредита по данным банковской карты

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:
* сервису платежей
* кредитному сервису

Заявлена поддержка двух СУБД:
* MySQL
* PostgreSQL

## Задача

Ключевая задача — автоматизировать сценарии (как позитивные, так и негативные) покупки тура.

Задача разложена на 4 этапа:
1. Планирование автоматизации тестирования
1. Непосредственно сама автоматизация
1. Подготовке отчётных документов по итогам автоматизированного тестирования
1. Подготовка отчётных документов по итогам автоматизации

## I. Планирование

Тест-план представлен в отдельном файле [`Plan.md`](documentation/Plan.md).

## II. Автоматизация

### Предварительная подготовка к тестированию

1. Убедиться в присутствии необходимого ПО. Список ПО и инструкции по его установке можно найти [здесь](documentation/Preparation.md).
1. Скачать проект ZIP-файлом по [ссылке](https://github.com/ks1109b/DiplomaProject/archive/refs/heads/main.zip).
1. Распаковать скаченный файл в удобном месте.
1. Открыть проект в IntelliJ IDEA.

    *File -> Open... -> Выделить папку, в которой лежит файл README.md -> OK*

### Запуск тестов

Для дальнейшей работы необходимо запустить контейнеры следующей командой:
   ```  
    docker-compose up -d
   ```
    
#### Для работы с MySQL

1. Запуск SUT:
    ```
    java -Dspring.datasource.url=jdbc:mysql://localhost:3306/app -jar artifacts/aqa-shop.jar
    ```
1. Запуск тестов осуществить в новом окне терминала:
    ```
    gradlew test -Ddb.url=jdbc:mysql://localhost:3306/app allureReport
    ```

#### Для работы с Postgres

1. Запуск SUT
    ```
    java -Dspring.datasource.url=jdbc:postgresql://localhost:5432/app -jar artifacts/aqa-shop.jar allureReport
    ```
1. Запуск тестов осуществить в новом окне терминала:
    ```
    gradlew test -Ddb.url=jdbc:postgresql://localhost:5432/app
    ```

### Просмотр отчета Allure

Для открытия отчета в браузере выполнить команду:
   ```  
   gradlew allureServe
   ```
   
### Остановка контейнеров

Чтобы остановить работу контейнеров, выполните следующую команду:
   ```  
    docker-compose down
   ```

## III. Отчетные документы по итогам автоматизированного тестирования

## IV. Отчетные документы по итогам автоматизации
